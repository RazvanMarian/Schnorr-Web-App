@page "/Sign"
@attribute [Authorize]
@using LicentaWebApp.Client.ViewModels
@inject IKeyViewModel _keyViewModel

<h3>Sign</h3>

<MudGrid>
    <MudItem xs="12" sm="6" md="4">
        <MudSelect Label="Select fast-food" @bind-Value="SelectedKey" HelperText="Make sure to select a key"
                   Placeholder="Please select a key" AdornmentIcon="@Icons.Material.Filled.VpnKey" AdornmentColor="Color.Primary">
            @foreach (var key in _keyViewModel.Keys)
            {
                <MudSelectItem Value="@key.Name">@key.Name</MudSelectItem>
            }
        </MudSelect>
    </MudItem>
</MudGrid>

<MyInputFile KeyName="@SelectedKey"></MyInputFile>

@code {
    private string SelectedKey { get; set; } = null;
    
    protected override async Task OnInitializedAsync()
    {
        await _keyViewModel.InitializeKeys();
    }

}